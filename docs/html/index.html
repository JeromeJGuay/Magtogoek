
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magtogoek’s documentation &#8212; magtogoek 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="magtogoek" href="html/modules.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="html/modules.html" title="magtogoek"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">magtogoek 0.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Magtogoek’s documentation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="magtogoek-s-documentation">
<h1>Magtogoek’s documentation<a class="headerlink" href="#magtogoek-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="magtogoek">
<h2>Magtogoek<a class="headerlink" href="#magtogoek" title="Permalink to this headline">¶</a></h2>
<p><em>Name origin: Magtogoek is Algonquin name for the Saint-Lawrence River which mean “the path that walks”.</em></p>
<div class="section" id="package">
<h3>PACKAGE<a class="headerlink" href="#package" title="Permalink to this headline">¶</a></h3>
<p>Magtogoek is a python package and command line application (CLI) to process ocean data.
At the moment, only Accoustisc Doopler Current Profiler (ADCP) data can be processed.
This package is developped by the Scientific Advice, Information and Support Branch at the Fisheries and Ocean Canada Maurice-Lamontagne Institute.</p>
<p><a class="reference external" href="https://jeromejguay.github.io/magtogoek/">Magtogoek documentation here</a></p>
<div class="section" id="supported-data-type">
<h4>Supported data type:<a class="headerlink" href="#supported-data-type" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>ADCP : Accoustisc Doopler Current Profiler</p>
<ul>
<li><p>RDI Teledyne: WorkHorse, SentinelV, OceanSurveilor <strong>(Only available on Linux/MacOS Only)</strong>
Magtogoek uses the pycurrents package made by UH Currents Group of the University of Hawaii.
Virtual Machine can be easly install on Windows machine see below.(TODO)</p></li>
<li><p>RTI Rowtech :
Magtogoek has a custom reader for RTI ENS files made using functions provided by Rowtech on
their (repository TODO)[TODO].</p></li>
</ul>
</li>
<li><p>More to come.</p></li>
</ul>
</div>
</div>
<div class="section" id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<p>Clone the respository and and install it with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code>. Follow the instruction below.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>:$ mkdir ~/magtogoek
:$ <span class="nb">cd</span> ~/magtogoek
:$ git clone https://github.com/JeromeJGuay/magtogoek
:$ pip install magtogoek
</pre></div>
</div>
</div>
<div class="section" id="requirements">
<h3>REQUIREMENTS<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<p>Magtogoek requires the external python package pycurrents made by UH Currents Group at the University of Hawaii to process Teledyne data. Visit <a class="reference external" href="https://currents.soest.hawaii.edu/ocn_data_analysis/installation.html">pycurrents webesite</a> for more details.</p>
<div class="section" id="pycurrents-installation-instruction">
<h4>Pycurrents installation instruction:<a class="headerlink" href="#pycurrents-installation-instruction" title="Permalink to this headline">¶</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>:$ <span class="nb">cd</span> ~/magtogoek
:$ hg clone https://currents.soest.hawaii.edu/hgstage/pycurrents
:$ pip install pycurrents
</pre></div>
</div>
</div>
</div>
<div class="section" id="cli-application-usage">
<h3>CLI APPLICATION USAGE<a class="headerlink" href="#cli-application-usage" title="Permalink to this headline">¶</a></h3>
<p>Magtogoek is only accessible from the terminal in the python evironnement that it was installed in.
The CLI application is called as <code class="docutils literal notranslate"><span class="pre">mtgk</span></code>.
More information  on the applican is available using the command -h/–help and –info.</p>
<div class="section" id="magtogoek-structure-and-processing-flow">
<h4>Magtogoek structure and processing flow.<a class="headerlink" href="#magtogoek-structure-and-processing-flow" title="Permalink to this headline">¶</a></h4>
<p>Magtogoek main objective is to process instrument data from raw instrument data format to netcdf format following the CF metadata convention.
However Magtogoek can also read, modify and export to ODF (Ocean Data Format) which is a use by Fisheries an Oceans Canada.</p>
<p>Data can be processed in two ways: Using the <code class="docutils literal notranslate"><span class="pre">quick</span></code> command or the <code class="docutils literal notranslate"><span class="pre">process</span></code> command.
The <code class="docutils literal notranslate"><span class="pre">quick</span></code> commands allows to process instrument data directly from the command line where the default processing parameters can be modified with optionnal arguments.
The <code class="docutils literal notranslate"><span class="pre">process</span></code> commands allows the users to add more metadata to the output netcdf files using configuration files which are <code class="docutils literal notranslate"><span class="pre">.ini</span></code> files.</p>
<div class="section" id="mtgk-quick">
<h5><code class="docutils literal notranslate"><span class="pre">mtgk</span> <span class="pre">quick</span></code><a class="headerlink" href="#mtgk-quick" title="Permalink to this headline">¶</a></h5>
<div class="highlight-Shell notranslate"><div class="highlight"><pre><span></span>:$ mtgk quick <span class="o">[</span>adcp,<span class="o">]</span> FILENAME <span class="o">[</span>options<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="mtgk-process">
<h5><code class="docutils literal notranslate"><span class="pre">mtgk</span> <span class="pre">process</span></code><a class="headerlink" href="#mtgk-process" title="Permalink to this headline">¶</a></h5>
<p>Configuration files are made with the command <code class="docutils literal notranslate"><span class="pre">config</span></code> followed by a specific sensors.
Optionnal arguments can also be use to set some values in the configuration file directly from the terminal.</p>
<div class="highlight-Shell notranslate"><div class="highlight"><pre><span></span>:$ mtgk config <span class="o">[</span>adcp, <span class="o">]</span> FILENAME options
</pre></div>
</div>
<p>Once filled out, configuration files can by passed to the <code class="docutils literal notranslate"><span class="pre">process</span></code> command as follow</p>
<div class="highlight-Shell notranslate"><div class="highlight"><pre><span></span>:$ mtgk process CONFIG_NAME
</pre></div>
</div>
</div>
<div class="section" id="platform-files">
<h5>platform files<a class="headerlink" href="#platform-files" title="Permalink to this headline">¶</a></h5>
<p>Magtogoek uses <code class="docutils literal notranslate"><span class="pre">json</span></code> files to store instruments and platforms metadata which refered to as platform files.
Note that in Magtogoek, instruments are refered to as sensors.
Platform could be anything that has some instruments/sensors e.g. ship, mooring, buoy, drifter, rossete, etc.</p>
<p>A plaform file is made with the command <code class="docutils literal notranslate"><span class="pre">config</span> <span class="pre">platform</span></code>:</p>
<div class="highlight-Shell notranslate"><div class="highlight"><pre><span></span>:$ mtgk config  platform FILENAME
</pre></div>
</div>
<p>Platform files are structured as follow:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;__PLATFORM_ID__&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;platform_name&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;platform_type&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;paltform_model&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;mooring_number&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;sounding&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;longitude&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;latitude&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;platform_specs&quot;</span><span class="p">:</span> <span class="p">{},</span>
        <span class="nt">&quot;sensors&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;__SENSOR_ID__&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;sensor_type&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                <span class="nt">&quot;sensor_depth&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                <span class="nt">&quot;serial_number&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                <span class="nt">&quot;manufacturer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                <span class="nt">&quot;model&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                <span class="nt">&quot;firmware_version&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                <span class="nt">&quot;chief_scientist&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="kc">null</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The different sensors of a the same platform can be place in the same platform limiting the risk of error in the platform metadata across.
Platform_id should include the year or the version of the platform and a new platform should be added if any modification is made to a sensor or to the platform.
This make it easy to reprocesses old data without having to modifie the platform file or configuration file.
While processing data a platform_file, platform_id and sensor_id have to be provided to add sensor metadata.
In future version of Magtogoek, a single platform files could be use to store all the sensors metadata.
That way, only the platform_id and sensor_id would be required to add sensors and platform metadata.</p>
<p>Exemple of platform and configuration files are available in th <code class="docutils literal notranslate"><span class="pre">test</span></code> section of the Magtogoek project.
Data are also included to test the <code class="docutils literal notranslate"><span class="pre">quick</span></code> and <code class="docutils literal notranslate"><span class="pre">process</span></code> command.</p>
</div>
</div>
<div class="section" id="other-command">
<h4>Other command.<a class="headerlink" href="#other-command" title="Permalink to this headline">¶</a></h4>
<dl class="simple">
<dt>Magtogoek has additionals functionnalities under <code class="docutils literal notranslate"><span class="pre">check</span></code> and <code class="docutils literal notranslate"><span class="pre">compute</span></code> commands.</dt><dd><p>You can get info and help on these commands using the –info or -h options.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="ackowledgment">
<h3>ACKOWLEDGMENT<a class="headerlink" href="#ackowledgment" title="Permalink to this headline">¶</a></h3>
<p>A special thanks goes to UH Currents Group for their work on Pycurrents.</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="html/modules.html">magtogoek</a><ul>
<li class="toctree-l2"><a class="reference internal" href="html/magtogoek.html">magtogoek package</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Magtogoek’s documentation</a><ul>
<li><a class="reference internal" href="#magtogoek">Magtogoek</a><ul>
<li><a class="reference internal" href="#package">PACKAGE</a><ul>
<li><a class="reference internal" href="#supported-data-type">Supported data type:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#requirements">REQUIREMENTS</a><ul>
<li><a class="reference internal" href="#pycurrents-installation-instruction">Pycurrents installation instruction:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cli-application-usage">CLI APPLICATION USAGE</a><ul>
<li><a class="reference internal" href="#magtogoek-structure-and-processing-flow">Magtogoek structure and processing flow.</a><ul>
<li><a class="reference internal" href="#mtgk-quick"><code class="docutils literal notranslate"><span class="pre">mtgk</span> <span class="pre">quick</span></code></a></li>
<li><a class="reference internal" href="#mtgk-process"><code class="docutils literal notranslate"><span class="pre">mtgk</span> <span class="pre">process</span></code></a></li>
<li><a class="reference internal" href="#platform-files">platform files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-command">Other command.</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ackowledgment">ACKOWLEDGMENT</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="html/modules.html"
                        title="next chapter">magtogoek</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="html/modules.html" title="magtogoek"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">magtogoek 0.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Magtogoek’s documentation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, jeromejguay.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>